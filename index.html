<!DOCTYPE html>
<html>
<body style="margin:0;background:black">

<video id="v" muted autoplay playsinline style="width:100vw;height:100vh;object-fit:contain"></video>

<script>

let list=[]
let i=0

async function init(){

const r = await fetch("https://script.google.com/macros/s/AKfycbwBlTTCgCAia_2t-nS1N5rHPL5CI_TcH52bNy7yXuqT5mj8_0AkG6rDBkqOvExDovaAbw/exec")
list = await r.json()

if(!list.length){
 document.body.innerHTML="<h1 style='color:white;text-align:center'>No Media Found</h1>"
 return
}

play()
}

function play(){

let f=list[i]
let v=document.getElementById("v")

v.src=f.url
v.load()

v.play().catch(()=>setTimeout(()=>v.play(),500))

v.onended=()=>{
 i=(i+1)%list.length
 play()
}

v.onerror=()=>{
 i=(i+1)%list.length
 play()
}

}

window.onload=init

</script>
</body>
</html>
